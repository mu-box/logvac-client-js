var Logvac,slice=[].slice;Logvac=function(){function t(t){return this.options=null!=t?t:{},this.constructor._self?this.constructor._self:(this.HOST=this.options.host||"",this.X_AUTH_TOKEN=this.options.auth_token||"",this.LOGS_ENABLED=this.options.logs_enabled||!1,this.LOG_LEVEL=this.options.log_level||"DEBUG",this.on("logvac:_xhr.loadstart",function(t){return function(){var e,r,n;return n=arguments[0],r=arguments[1],e=3<=arguments.length?slice.call(arguments,2):[],t.debug(n,r,e)}}(this)),this.on("logvac:_xhr.abort",function(t){return function(){var e,r,n;return n=arguments[0],r=arguments[1],e=3<=arguments.length?slice.call(arguments,2):[],t.debug(n,r,e)}}(this)),this.on("logvac:_xhr.error",function(t){return function(){var e,r,n;return n=arguments[0],r=arguments[1],e=3<=arguments.length?slice.call(arguments,2):[],t.error(n,r,e)}}(this)),this.on("logvac:_xhr.load",function(t){return function(){var e,r,n;return n=arguments[0],r=arguments[1],e=3<=arguments.length?slice.call(arguments,2):[],t.info(n,r,e)}}(this)),this.on("logvac:_xhr.loadend",function(t){return function(){var e,r,n;return n=arguments[0],r=arguments[1],e=3<=arguments.length?slice.call(arguments,2):[],t.debug(n,r,e)}}(this)),void(this.constructor._self=this))}var e,r,n;return e=[],n=["DEBUG","INFO","WARN","ALERT","ERROR","SILENT"],t.prototype.debug=function(){var t,e,r;return r=arguments[0],e=arguments[1],t=3<=arguments.length?slice.call(arguments,2):[],this.log({level:"DEBUG",styles:"color:#48B5DA",key:r,data:e,args:t})},t.prototype.info=function(){var t,e,r;return r=arguments[0],e=arguments[1],t=3<=arguments.length?slice.call(arguments,2):[],this.log({level:"INFO",styles:"color:#87C45A",key:r,data:e,args:t})},t.prototype.warn=function(){var t,e,r;return r=arguments[0],e=arguments[1],t=3<=arguments.length?slice.call(arguments,2):[],this.log({level:"WARN",styles:"color:#FCF1AB",key:r,data:e,args:t})},t.prototype.alert=function(){var t,e,r;return r=arguments[0],e=arguments[1],t=3<=arguments.length?slice.call(arguments,2):[],this.log({level:"ALERT",styles:"color:#FEA06B",key:r,data:e,args:t})},t.prototype.error=function(){var t,e,r;return r=arguments[0],e=arguments[1],t=3<=arguments.length?slice.call(arguments,2):[],this.log({level:"ERROR",styles:"color:#F22C68",key:r,data:e,args:t})},t.prototype.has_permission=function(t){return n.indexOf(this.LOG_LEVEL)<=n.indexOf(t)},t.prototype.log=function(t){var r;return r={level:t.level,styles:t.styles,key:t.key,data:t.data,args:t.args,timestamp:new Date},this.LOGS_ENABLED&&this.has_permission(r.level)&&console.log("%cLogvac.log:"+r.level+" ::",r.styles,r.key,r.data),e.push(r)},t.prototype.backlog=function(){var t,r,n,o;for(o=[],t=0,r=e.length;r>t;t++)n=e[t],o.push(console.log("%c("+n.timestamp+") Logvac.backlog:"+n.level+" ::",n.styles,n.key+" - ",n.data));return o},t.prototype.enable_logs=function(){return this.warn("Logvac logs enabled"),this.LOGS_ENABLED=!0},t.prototype.disable_logs=function(){return this.warn("Logvac logs disabled"),this.LOGS_ENABLED=!1},t._self=null,r={},t.prototype._has_event=function(t){return null!=r[t]},t.prototype._has_handler=function(t,e){return-1!==r[t].indexOf(e)},t.prototype._add_handler=function(t,e){return r[t]||(r[t]=[]),this._has_handler(t,e)?void 0:r[t].push(e)},t.prototype._remove_handler=function(t,e){return this._has_event(t)&&this._has_handler(t,e)?r[t].splice(r[t].indexOf(e),1):void 0},t.prototype.on=function(t,e){return t&&e?(this._add_handler(t,e),e):void 0},t.prototype.once=function(t,e){var r;return r=function(n){return function(){return null!=e&&e.apply(n,arguments),n.off(t,r)}}(this),this.on(t,r)},t.prototype.off=function(t,e){return t&&e?this._remove_handler(t,e):t?delete r[t]:r={}},t.prototype.fire=function(){var t,e,n,o,s,i,l;if(s=arguments[0],e=arguments[1],t=3<=arguments.length?slice.call(arguments,2):[],r[s]){for(l=r[s],o=0,i=l.length;i>o;o++)n=l[o],null!=n&&n.apply(this,[s,e,t]);return!0}},t.prototype.events=function(t){return t?this._has_event(t)?r[t]:this.log("Unknown event - ",t):this.log("Registered Events - ",r)},t.prototype.get=function(t){var e,r,n,o,s;return null==t&&(t={}),this._xhr=new XMLHttpRequest,this._xhr.onloadstart=function(t){return function(){return t.fire("logvac:_xhr.loadstart",t._xhr.response)}}(this),this._xhr.onabort=function(t){return function(){return t.fire("logvac:_xhr.abort",t._xhr.response)}}(this),this._xhr.onerror=function(t){return function(){return t.fire("logvac:_xhr.error",t._xhr.response)}}(this),this._xhr.onload=function(t){return function(){return t.fire("logvac:_xhr.load",t._xhr.response)}}(this),this._xhr.onloadend=function(t){return function(){return t.fire("logvac:_xhr.loadend",t._xhr.response)}}(this),e=t.id||"",o=t.tag||"",s=t.type||"",n=t.start||0,r=t.limit||100,this._xhr.open("GET",this.HOST+"?id="+e+"&tag="+o+"&type="+s+"&start="+n+"&limit="+r),this._xhr.setRequestHeader("x-auth-token",this.X_AUTH_TOKEN),this._xhr.send(),this._xhr},t.prototype.state=function(){var t,e;switch(null!=(t=this._xhr)?t.readyState:void 0){case 0:return"unset";case 1:return"opened";case 2:return"headers recieved";case 3:return"loading";case 4:return"done";default:return"unknown state - "+(null!=(e=this._xhr)?e.readyState:void 0)}},t.prototype.done=function(){return"done"===this.state()},t.prototype.status=function(){var t;return null!=(t=this._xhr)?t.status:void 0},t}();